language: java
dist: precise
sudo: required
addons:
  apt:
    packages:
      - openjdk-7-jre
      - openjdk-8-jre
      - oracle-java8-installer
jdk:
  - openjdk7
  - openjdk8
  - oraclejdk8
  - oraclejdk9
install: true
script:
    - "gradle clean"
    - "gradle exhaustiveTest"
    - "if [[ -n $TRAVIS_TAG ]]; then
          ./gradlew ship;
      else
          ./gradlew build;
      fi"
cache:
  gradle: true
  directories:
  - "$HOME/.gradle/caches"
  - "$HOME/.gradle/wrapper"
branches:
  only:
  - master
  - /^\d+\.\d+\.\d+(-SNAPSHOT|-alpha)?$/ # trigger builds on tags which are semantically versioned to ship the SDK.
